To identify the co-occurences of bad smells and design patterns we applied association rules, based on concepts of data 
mining [1, 2]. We decided to use the association rules because they combine items from a data set to extract knowledge 
about the data. Moreover, previous works in the same context of this one [8, 18] have applied association rules.\n\n

To apply the association rules, three metrics are used: Support [1], Confidence [1], and Conviction [2]. These metrics 
are based in the following main concepts: Transaction, defined as a set of items; Antecedent that is an item that appears 
on the left side of the association rule; and Consequent, an item that appears on the right side of the association rule. 
Therefore, a basic association rule has the following form: Antecedent => Consequent.\n\n

Support (sup) of an association rule corresponds to the frequency that an item occurs in a transaction (Equation 1). For 
instance, let us consider a shopping base in a supermarket. Suppose that there is a data set with 1,000 transactions, which 
are the set of items that were purchased. In this data set, the items pasta and tomato appear together in 100 records. So, 
Support for this relationship is 0.1, i.e., 10.0%.\n\n

Confidence (conf) expresses the probability of a Consequent occurs since Antecendent has occured (Equation 2).\n\n

In the aforementioned example, let us consider that the item pasta is found alone in 200 of 1,000 transactions of the data 
set. To compute the Confidence of the association rule pasta => tomato, it is necessary to divide the Support of this rule, 
0.1, by the Support of pasta – Antecedent in the association rule –, 0.2, resulting in a confidence of 0.5, i.e., 50.0%. 
Confidence is very sensitive to the frequency on the right side of the association rule, i.e., a very high value in the right 
side of the association rule can generate a high confidence value, even if the items do not have any type of relation.\n\n

To solve this problem of Confidence, Brin et al. [2] proposed the metric Conviction. This metric uses the Support in both the 
Antecedent and the Consequent (Equation 3).\n\n

In the given example, let us consider that the item tomato is found alone in 300 of 1,000 transactions of the data set. Thus, 
the support tomato, sup(tomato) is 0.3 and the confidence conf(pasta ⇒ tomato) is 0.5. Applying these values in the Equation 3, 
the Conviction conv(pasta ⇒ tomato) is 1,4. When the value of Conviction is 1.0, it indicates that the antecedent and the consequent 
have no relation at all. When the value of Conviction value is less than 1.0, it indicates that if the antecedent occurs, the 
consequent tends to not occur. When the value of the Conviction is greater than 1.0, it means that the antecedent and the consequent 
have relation; the greater the value of Conviction, the greater the relation between the antecedent and the consequent. An infinite 
result indicates that the antecedent never appears in the transactions.\n\n

In this work, for the application of the association rules, a transaction represents each class in the analyzed system; antecedent 
represents a design pattern; consequent represents a bad smell, in particular, the bad smells God Class and Long Method.\n\n\n

References\n\n

[1] R. Agrawal, T. Imielinski, and A. Swami. Mining association rules between sets of items in large databases. SIGMOD Rec., 22(2):
207–216, June 1993.\n
[2] S. Brin, R. Motwani, J. D. Ullman, and S. Tsur. Dynamic itemset counting and implication rules for market basket data. SIGMOD Rec., 
26(2):255–264,June 1997.